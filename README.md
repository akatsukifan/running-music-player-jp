# 日本語ランニング音楽プレーヤー

Vue 3で開発された1時間タイマー付き音楽プレーヤー、ローカル音楽ファイルの再生に対応。

## プロジェクトハイライト

### 主要機能
- **1時間精密タイマー**：3600秒カウントダウン、リアルタイム進捗表示
- **ローカル音楽再生**：MP3/WAV/M4A形式ファイルアップロード対応
- **カスタム背景**：JPG/PNG/GIF背景画像設定可能
- **レスポンシブデザイン**：モバイル/タブレット/デスクトップ完備

### 技術スタック
- **フロントエンド**：Vue 3 + Composition API
- **ビルド**：Vite + モダンES6+構文
- **スタイル**：純粋CSS3 + フロストガラス効果
- **デプロイ**：GitHub Pages/Netlifyワンクリック対応

## 開発の軌跡

### 直面した課題と解決策

#### 1. 状態同期問題
**課題**：音楽一時停止とタイマー停止が同期していない
- 音楽一時停止は再生状態のみ影響
- タイマーは独立して継続実行
- ユーザー体験の断片化

**解決策**：
- ✅ 現行：手動状態管理
- 🔄 改善：Pinia状態管理（実装予定）

#### 2. ファイル処理最適化
**課題**：
- 大容量オーディオメタデータ読み取りパフォーマンス
- 重複ファイル検出と重複排除
- メモリリーク防止

**実装**：
- 一時Audioオブジェクト非同期読み取り時間
- ファイル名+サイズ二重重複検証
- URL.revokeObjectURLタイムリーなクリーンアップ

#### 3. デプロイ設定
**GitHub Pages空白ページ**：
- 問題：リソースパスに先頭スラッシュが含まれ404エラー
- 解決：index.htmlリソース参照パスを修正
- 検証：GitHub PagesとNetlifyへの正常デプロイ成功

## Piniaリファクタリング計画

### 現行アーキテクチャの課題
- 状態がコンポーネント内に分散
- 音楽とタイマー状態の孤立
- コンポーネント間通信の複雑化

### リファクタリング案
```javascript
// stores/runningStore.js
export const useRunningStore = defineStore('running', {
  state: () => ({
    // 統一状態管理
    isPlaying: false,
    isRunning: false,
    remainingSeconds: 3600,
    playlist: [],
    currentTrack: null
  }),
  actions: {
    startAll() { /* 同期開始 */ },
    pauseAll() { /* 同期一時停止 */ },
    resetAll() { /* 統一リセット */ }
  }
})
```

### リファクタリングメリット
- ✅ 状態集中管理
- ✅ コンポーネント完全分離
- ✅ 状態変更予測可能
- ✅ 単体テスト容易

## 使用方法

### クイックスタート
1. プロジェクトをダウンロードまたはデプロイリンクへアクセス
2. ローカル音楽ファイルをアップロード
3. 任意：背景画像をアップロード
4. 再生クリックで自動タイマー開始

### ファイル対応
- **オーディオ形式**：MP3, WAV, M4A, FLAC
- **画像形式**：JPG, PNG, GIF, WebP
- **ファイルサイズ**：読み込み最適化のため5MB以下推奨

## 技術スタック
- **Vue 3**：Composition API, リアクティブシステム
- **Vite**：高速ビルドとホットリロード
- **モダンCSS**：Grid, Flexbox, フロストガラス効果
- **ブラウザAPI**：File API, Audio API, URL API

## 学習価値
- Vue 3リアクティブ原理実践
- ファイル処理と状態管理
- レスポンシブレイアウト設計
- モダンデプロイメントフロー

---
*基本機能開発完了、Piniaリファクタリングは次のステップとして実装予定*
